<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>FMI Description Schema</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect2">
<h3 id="_fmi_description_schema">FMI Description Schema</h3>
<div class="paragraph">
<p>All static information related to an FMU is stored in the text file <code>modelDescription.xml</code>
in XML format.
Especially, the FMU variables and their attributes such as name, unit,
default initial value, etc. are stored in this file.
The structure of this XML file is defined with the schema file `"fmiModelDescription.xsd`".
This schema file utilizes the following helper schema files:</p>
</div>
<div class="paragraph indented2">
<p><code>fmi2Annotation.xsd</code><br>
<code>fmi2AttributeGroups.xsd</code><br>
<code>fmi2ScalarVariable.xsd</code><br>
<code>fmi2Type.xsd</code><br>
<code>fmi2VariableDependency.xsd</code><br>
<code>fmi2Unit.xsd</code></p>
</div>
<div class="paragraph">
<p>In this section these schema files are discussed.
The normative definition are the above mentioned schema files
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.
Below, optional elements are marked with a "dashed" box.
The required data types (like: xs:normalizedString) are defined in the XML-schema standard: <a href="http://www.w3.org/TR/XMLschema-2/" class="bare">http://www.w3.org/TR/XMLschema-2/</a>.
The types used in the fmi2 schema files are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>XML</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description (<a href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/XMLschema-2/</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Mapping to C</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xs:double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IEEE double-precision 64-bit floating point type <em>[In order to not loose precision,
a number of this type should be stored on an XML file with at least <strong>16</strong> significant digits; for example, 2/3 should be stored as <code>0.6666666666666667</code>]</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xs:int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer number with maximum value 2147483647 and minimum value -2147483648 (32 bit Integer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xs:unsignedInt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer number with maximum value 4294967295 and minimum value 0 (unsigned 32 bit Integer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xs:boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean number. Legal literals: false, true, 0, 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">char</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xs:string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any number of characters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">char*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xs:normalizedString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String without carriage return, line feed, and tab characters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">char*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xs:dateTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date, time and time zone (for details see the link above).
Example: 2002-10-23T12:00:00Z (noon on October 23, 2002, Greenwich Mean Time)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool specific</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The first line of an XML file, such as <code>modelDescription.xml</code>,
must contain the encoding scheme of the XML file.
It is required that the encoding scheme is always UTF-8:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The FMI schema files (*.xsd) are also stored in "UTF-8".<br>
<em>[Note that the definition of an encoding scheme is a prerequisite
in order for the XML file to contain letters outside of the 7 bit ANSI ASCII character set,
such as German umlauts, or Asian characters. Furthermore,
note the FMI calling interface requires that strings are encoded in UTF-8.
Since the XML files are also required to be encoded in UTF-8,
string variables need not to be transformed when reading from the XML files in to C string variables.].</em></p>
</div>
<div class="paragraph">
<p>The special values NAN, +INF, -INF for variables values are not allowed in the FMI XML files.</p>
</div>
<div class="paragraph">
<p><em><span class="Note that child information items">ordered lists</span> according to document order,
whereas attribute information items are <span class="underline">unordered sets</span> (see <a href="http://www.w3.org/TR/XML-infoset/#infoitem.element" class="bare">http://www.w3.org/TR/XML-infoset/#infoitem.element</a>).
The FMI schema is based on ordered lists in a sequence and therefore parsing must preserve this order.
For example, the information stored in <code>ModelVariables.Derivatives</code> is only correct if this property is fulfilled.]</em></p>
</div>
<div class="sect3">
<h4 id="_definition_of_an_fmu_fmimodeldescription">Definition of an FMU (fmiModelDescription)</h4>
<div class="paragraph">
<p>This is the root-level schema file and contains the following definition (the figure below contains all
elements in the schema file.
Data is defined by attributes to these elements):</p>
</div>
<div id="system_overview" class="paragraph">
<p><span class="image"><img src="images/fmiModelDescription_schema.png" alt="fmiModelDescription schema"></span></p>
</div>
<div class="paragraph">
<p>On the top level,
the schema consists of the following elements (see <a href="#system_overview">figure above</a>
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element-Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ModelExchange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present,
the FMU is based on "FMI for Model Exchange" <em>[(in other words, the FMU includes the model or the communication to a tool that provides the model,
and the environment provides the simulation engine)]</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CoSimulation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present,
the FMU is based on "FMI for Co-Simulation" <em><span class="(in other words">and</span> the simulation engine,
or a communication to a tool that provides the model and the simulation engine,
and the environment provides the master algorithm to run coupled FMU co-simulation slaves together)]</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UnitDefinitions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A global list of unit and display unit definitions <em>[for example, to convert display units into the units used in the model equations]</em>.
These definitions are used in the XML element `"ModelVariables`".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TypeDefinitions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A global list of type definitions that are utilized in `"ModelVariables`".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogCategories</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A global list of log categories that can be set to define the log information that is supported from the FMU.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DefaultExperiment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Providing default settings for the integrator,
such as stop time and relative tolerance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VendorAnnotations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional data that a vendor might want to store and that other vendors might ignore.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ModelVariables</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The central FMU data structure defining all variables of the FMU that are visible/accessible via the FMU functions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ModelStructure</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the structure of the model.
Especially, the ordered lists of all outputs,
all continuous-time states and all initial unknowns (the unknowns during Initialization Mode) must be defined here.
For more details on ModelStructure, see section <a href="#_definition_of_the_model_structure_modelstructure">Definition of the Model Structure (ModelStructure)</a>.
Furthermore, the dependency of the unkowns from the knowns can be optionally defined.
<em>[This information can be,
for example, used to compute efficiently a sparse Jacobian for simulation, or to utilize the input/output dependency in order to detect that in some cases there are actually no algebraic loops when connecting FMUs together]</em>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>At least one element of <code>ModelExchange</code> or <code>CoSimulation</code> must be present to identify the type of the FMU.
If both elements are defined, different types of models are included in the FMU.
The details of these elements are defined in section 3.3.1 and section 4.3.1.</p>
</div>
<div class="paragraph">
<p>The XML attributes of <code>fmiModelDescription</code> are:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/fmiModelDescription_schema_2.png" alt="fmiModelDescription schema 2" width="80%"></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute-Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of "FMI for Model Exchange or Co-Simulation" that was used to generate the XML file.
The value for this version is "2.0".<br>
<em>[Clarification for FMI 2.0.1: The version string for FMUs generated according to FMI 2.0.1 shall be “2.0” to be compatible with FMI 2.0 importers.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>modelName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the model as used in the modeling environment that generated the XML file,
such as "Modelica.Mechanics.Rotational.Examples.CoupledClutches".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>guid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The "Globally Unique IDentifier" is a string that is used to check that the XML file is compatible with the C functions of the FMU.
Typically when generating the XML file,
a fingerprint of the "relevant" information is stored as guid and in the generated C function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional string with a brief description of the model.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>author</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional string with the name and organization of the model author.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional version of the model, for example, "1.0".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>copyright</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional information on the intellectual property copyright for this FMU.<br>
<em>[Example: copyright = "© My Company 2011"]</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>license</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional information on the intellectual property licensing
for this FMU.<br>
<em>[Example: license = "BSD license &lt;license text or link to license&gt;"]</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generationTool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional name of the tool that generated the XML file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generationDateAndTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional date and time when the XML file was generated.
The format is a subset of "xs:dateTime" and should be: "YYYY-MM-DDThh:mm:ssZ" (with one "T" between date and time; "Z" characterizes the Zulu time zone,
in other words, Greenwich meantime).<br>
<em>[Example: "2009-12-08T14:33:22Z"]</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>variableNamingConvention</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether the variable names in <code>ModelVariables / ScalarVariable / name</code> and in <code>TypeDefinitions / Type / name</code> follow a particular convention.
For the details, see section 2.2.9. Currently standardized are:</p>
<p class="tableblock">- <code>flat</code>: A list of strings (the default).</p>
<p class="tableblock">- <code>structured</code>: Hierarchical names with "." as hierarchy separator,
and with array elements and derivative characterization.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>numberOfEventIndicators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The (fixed) number of event indicators for an FMU based on FMI for Model Exchange.<br>
For Co-Simulation, this value is ignored.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[The attribute <code>numberOfContinuousStates</code> available in FMI 1.0 has been removed for FMI 2.0,
since this information can be deduced from the remaining data in the XML file.]</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_definition_of_units_unitdefinitions">Definition of Units (UnitDefinitions)</h4>
<div class="paragraph">
<p><em>[In this section, the units of the variables are (optionally) defined.
Unit support is important for technical systems since otherwise it is very easy for errors to occur.
Unit handling is a difficult topic, and there seems to be no method available that is really satisfactory for all applications, such as unit check,
unit conversion, unit propagation or dimensional analysis.
In FMI, a pragmatic approach is used that takes into account that every software system supporting units has potentially its own specific technique to describe and utilize units.
The approach used here is slightly different than FMI 1.0 to reduce the need for standardized string representations.]</em></p>
</div>
<div class="paragraph">
<p>Element "<strong>UnitDefinitions</strong>" of <code>fmiModelDescription</code> is defined as:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UnitDefinitions_schema.png" alt="UnitDefinitions schema">
</div>
</div>
<div class="paragraph">
<p>It consists of zero or more <code>Unit</code> definitions <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>.
A <code>Unit</code> is defined by its <code>name</code> attribute such as "N.m" or "N*m" or "Nm",
which must be unique with respect to all other defined elements of the <code>UnitDefinitions</code> list.
If a variable is associated with a <code>Unit</code>,
then the value of the variable has to be provided with the <code>fmi2SetXXX</code> functions and is returned by the <code>fmi2GetXXX</code> functions with respect to this <code>Unit</code>.
<em>[The purpose of the name is to uniquely identify a unit and,
for example, use it to display the unit in menus or in plots.
Since there is no standard to represent units in strings,
and there are different ways how this is performed in different tools,
no specific string representation of the unit is required.]</em></p>
</div>
<div class="paragraph">
<p>Optionally, a value given in unit <code>Unit</code> can be converted to a value with respect to unit <code>BaseUnit</code> utilizing the conversion <code>factor</code> and <code>offset</code> attributes:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/BaseUnit_schema.png" alt="BaseUnit schema" width="50%">
</div>
</div>
<div class="paragraph">
<p>Besides <code>factor</code> and <code>offset</code>,
the <code>BaseUnit</code> definition consists of the exponents of the 7 SI base units "kg",
"m", "s", "A", "K", "mol", "cd", and of the exponent of the SI derived unit "rad".
<em>[Depending on the analysis/operation carried out,
the SI derived unit "rad" is or is not utilized, see discussion below.
The additional "rad" base unit helps to handle the often occurring quantities in technical systems that depend on an angle.]</em></p>
</div>
<div class="paragraph">
<p>A value with respect to <code>Unit</code> (abbreviated as "Unit_value") is converted with respect to <code>BaseUnit</code> (abbreviated as "BaseUnit_value") by the equation:</p>
</div>
<div class="paragraph">
<p>BaseUnit_value = <code>factor</code>* Unit_value +  (if <code>relativeQuantity</code> then 0 else <code>offset</code>)<br>
where <code>factor</code> and <code>offset</code> are attributes of the <code>&lt;BaseUnit&gt;</code>, and  <code>relativeQuantity</code> an attribute of the <code>TypeDefinition</code> of a variable.</p>
</div>
<div class="paragraph">
<p><em>[For example, if</em> \(\color{blue}{p_{bar}}\) <em>is a pressure value in unit "bar", and</em> \(\color{blue}{p_{Pa}}\) <em>is the pressure value in <code>BaseUnit</code>, then</em></p>
</div>
<div class="paragraph">
<p>\(\color{blue}{p_{Pa} = 10^5 p_{bar}}\)</p>
</div>
<div class="paragraph">
<p><em>and therefore, <code>factor = 1.0e5</code> and <code>offset = 0.0</code>.</em></p>
</div>
<div class="paragraph">
<p><em>[In the following table several unit examples are given
(Note that if in column <code>"exponents"</code> the definition "\(\color{blue}{kgm^2 / s^2}\)"
is present, then the attributes of <code>BaseUnit</code> are: `"kg=1, m=2, s=-2`"):</em></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>Quantity</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>Unit.name</strong><br>
(examples)</p></td>
<td class="tableblock halign-center valign-top" colspan="3"><p class="tableblock"><strong>Unit.BaseUnit</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>exponents</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>factor</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>offset</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Torque</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"N.m"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\(\color{blue}{kg \cdot m^2 / s^2}\)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1.0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Energy</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"J"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\(\color{blue}{kg \cdot m^2 / s^2}\)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1.0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Pressure</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"bar"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\(\color{blue}{\frac{kg}{m \cdot s^2}}\)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1.0e5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Angle</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"deg"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>rad</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.01745329251994330 (= pi/180)</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Angular velocity</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"rad/s"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>rad/s</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1.0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Angular velocity</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"rpm"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>rad/s</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.1047197551196598 (=2*pi/60)</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Frequency</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"Hz"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>rad/s</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6.283185307179586</code><br>
<code>(= 2*pi)</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Temperature</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"°F"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>K</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.5555555555555556</code><br>
<code>(= 5/9)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>255.3722222222222</code><br>
<code>(= 273.15-32*5/9)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Per cent by length</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"%/m"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1/m</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.01</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Parts per million</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"ppm"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1.0e-6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Length</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"km"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>m</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1000</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>Length</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>"yd"</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>m</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.9144</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0.0</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>Note that "Hz" is typically used as <code>Unit.name</code> for a frequency quantity,
but it can also be used as <code>DisplayUnit</code> for an angular velocity quantity (since `"revolution/s`").]</em></p>
</div>
<div class="paragraph">
<p><em>The <code>BaseUnit</code> definitions can be utilized for different purposes (the following application examples are optional and a tool may also completely ignore the <code>Unit</code> definitions):</em></p>
</div>
<div class="paragraph">
<p><strong>Signal connection check</strong>:</p>
</div>
<div class="paragraph">
<p><em>When two signals v1 and v2 are connected together,
and on at least one of the signals no <code>BaseUnit</code> element is defined,
then the connection equation "v2 = v1" holds (if v1 is an output of an FMU and v2 is an input of another FMU,
with <code>fmi2GetXXX</code> the value of v1 is inquired and used as value for v2 by calling <code>fmi2SetXXX</code>).</em></p>
</div>
<div class="paragraph">
<p><em>When two signals v1 and v2 are connected together,
and for both of them <code>BaseUnit</code> elements are defined,
then they must have identical exponents of their <code>BaseUnit</code>.
If <code>factor</code> and <code>offset</code> are also identical,
again the connection equation "v2 = v1" holds.
If <code>factor</code> and <code>offset</code> are not identical,
the tool may either trigger an error or, if supported, perform a conversion;
in other words, use the connection equation (in this case the <code>relativeQuantity</code> of the <code>TypeDefinition</code>,
see below,
has to be taken into account in order to determine whether <code>offset</code> shall or shall not be utilized):</em></p>
</div>
<div class="paragraph">
<p><code>factor(v1) * v1 + (if relativeQuantity(v1) then 0 else offset(v1)) = factor(v2) * v2 + (if relativeQuantity(v2) then 0 else offset(v2))</code><br>
where <code>relativeQuantity(v1) == relativeQuantity(v2)</code> is required.</p>
</div>
<div class="paragraph">
<p>_As a result,
wrong connections can be detected (for example, connecting a force with an angle signal would trigger an error) and conversions between, say,
US and SI units can be either automatically performed or, if not supported,
an error is triggered as well.</p>
</div>
<div class="paragraph">
<p><em>[Note that this approach is not satisfactory for variables belonging to different quantities that have,
however, the same <code>BaseUnit</code>, such as quantities "Energy" and "Torque",
or "AngularVelocity" and "Frequency".
To handle such cases, quantity definitions have to be taken into account (see <code>TypeDefinitions</code>) and quantity names need to be standardized.]</em></p>
</div>
<div class="paragraph">
<p><em>This approach allows a general treatment of units,
without being forced to standardize the grammar and allowed values for units (for example, in FMI 1.0,
a unit could be defined as "N.m" in one FMU and as "N*m" in another FMU, and a tool would have to reject a connection,
since the units are not identical. In FMI 2.0, the connection would be accepted,
provided both elements have the same <code>BaseUnit</code> definition).</em></p>
</div>
<div class="paragraph">
<p><strong>Dimensional analysis of equations:</strong></p>
</div>
<div class="paragraph">
<p><em>In order to check the validity of equations in a modeling language,
the defined units can be used for dimensional analysis,
by using the <code>BaseUnit</code> definition of the respective unit.
For this purpose, the <code>BaseUnit</code> "rad" has to be treated as "1".
Example:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre>J*α = τ → [kg.m2]*[rad/s2] = [kg.m2/s2]). // o.k. ("rad" is treated as "1")
J*α = f → [kg.m2]*[rad/s2] = [kg.m/s2]). // error, since dimensions do not agree</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Unit propagation:</strong></p>
</div>
<div class="paragraph">
<p><em>If unit definitions are missing for signals,
they might be deduced from the equations where the signals are used.
If no unit computation is needed, "rad" is propagated.
If a unit computation is needed and one of the involved units has "rad" as a <code>BaseUnit</code>,
then unit propagation is not possible.
Examples:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>a = b + c, and <code>Unit</code> of c is provided, but not <code>Unit</code> of a and b:</em><br>
<em>The Unit definition of c (in other words, <code>Unit.name</code>, <code>BaseUnit</code>,
<code>DisplayUnit</code>) is also used for a and b.
For example, if BaseUnit(c) = "rad/s", then BaseUnit(a) = BaseUnit(b) = "rad/s".</em></p>
</li>
<li>
<p><em>a = b*c, and <code>Unit</code> of a and of c is provided, but not <code>Unit</code> of b:</em><br>
<em>If "rad" is either part of the <code>BaseUnit</code> of "a" and/or of "c",
then the <code>BaseUnit</code> of b cannot be deduced (otherwise it can be deduced).
Example: If BaseUnit(a)="kg.m/s2" and BaseUnit(c)="m/s2",
then the BaseUnit(b) can be deduced to be "kg".
In such a case <code>Unit.name</code> of b cannot be deduced from the <code>Unit.name</code> of a and c,
and a tool would typically construct the <code>Unit.name</code> of b from the deduced <code>BaseUnit</code>.]</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally to the unit definition,
optionally a set of display units can be defined that can be utilized for input/output of a value:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/DisplayUnit_schema.png" alt="DisplayUnit schema" width="80%">
</div>
</div>
<div class="paragraph">
<p>A <code>DisplayUnit</code> is defined by <code>name</code>, <code>factor</code> and <code>offset</code>.
The attribute <code>name</code> must be unique with respect to all other <code>names</code> of the <code>DisplayUnit</code> definitions of the same <code>Unit</code> [(different <code>Unit</code> elements may have the same <code>DisplayUnit</code> names)].
A value with respect to Unit (abbreviated as "Unit_value") is converted with respect to <code>DisplayUnit</code> (abbreviated as "DisplayUnit_value") by the equation:</p>
</div>
<div class="paragraph">
<p>DisplayUnit_value = <code>factor</code> * Unit_value + <code>offset</code></p>
</div>
<div class="paragraph">
<p><em>["offset" is, for example, needed for temperature units.]</em></p>
</div>
<div class="paragraph">
<p><em>[For example, if \(\color{blue}{T_K}\) is the temperature value of <code>Unit.name</code> (in "K") and \(\color{blue}{T_F}\) is the temperature value of <code>DisplayUnit</code> (in "°F"),
then</em></p>
</div>
<div class="stemblock">
<div class="content">
\[T_F = (9/5) * (T_K - 273.15) + 32\]
</div>
</div>
<div class="paragraph">
<p><em>and therefore, <code>factor = 1.8 (=9/5)</code> and <code>offset = -459.67 (= 32 - 273.15*9/5)</code>.</em></p>
</div>
<div class="paragraph">
<p><em>Both the <code>DisplayUnit.name</code> definitions as well as the <code>Unit.name</code> definitions are used in the <code>ScalarVariable</code> elements.
Example for a definition:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;Unit name="rad/s"&gt;
    &lt;BaseUnit s="-1" rad="1"/&gt;
    &lt;DisplayUnit name="deg/s" factor= "57.29577951308232"/&gt;
    &lt;DisplayUnit name="rev/min" factor= "9.549296585513721"/&gt;
&lt;/Unit&gt;
 &lt;Unit name="bar"&gt;
    &lt;BaseUnit kg="1", m="-1", s="-2", factor="1.0e5", offset="0"/&gt;
&lt;/Unit&gt;
 &lt;Unit name="Re"&gt;
    &lt;BaseUnit/&gt;    // unit = "1"
                   //(dimensionless, all exponents of BaseUnit are zero)
 &lt;/Unit&gt;
 &lt;Unit name="Euro/PersonYear"/&gt;  // no mapping to BaseUnit defined</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>]</em></p>
</div>
<div class="paragraph">
<p>The schema definition is present in a separate file `"fmi2Unit.xsd`".</p>
</div>
</div>
<div class="sect3">
<h4 id="_definition_of_types_typedefinitions">Definition of Types (TypeDefinitions)</h4>
<div class="paragraph">
<p>Element <strong>"TypeDefinitions"</strong> of <code>fmiModelDescription</code> is defined as:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/TypeDefinitions_schema.png" alt="TypeDefinitions schema" width="90%">
</div>
</div>
<div class="paragraph">
<p>This element consists of a set of <code>"SimpleType"</code> definitions according to schema <code>"fmi2SimpleType"</code> in file <code>"fmi2Type.xsd"</code>.
One <code>"SimpleType"</code> has a type <code>"name"</code> and <code>"description"</code> as attributes.
Attribute "name" must be unique with respect to all other elements of the <code>TypeDefinitions</code> list.
Furthermore,
<code>"name"</code> of a <code>"SimpleType"</code> must be different to all <code>"name"</code> attributes of <code>ScalarVariable</code>s <em>[if the same names would be used,
then this would nearly always give problems when importing the FMU in an environment such as Modelica,
where a type name cannot be used as instance name]</em>.
Additionally, one of the elements <code>Real</code>, <code>Integer</code>, <code>Boolean</code>, <code>String</code>,
or <code>Enumeration</code> must be present.
They have the following definitions:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Real_schema.png" alt="Real schema" width="50%">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Integer_schema.png" alt="Integer schema" width="50%">
</div>
</div>
<div class="paragraph">
<p><em>[The attributes of "Real" and "Integer" are collected in the attribute groups "fmi2RealAttributes" and "fmi2IntegerAttributes" in file "fmi2AttributeGroups.xsd",
since these attributes are reused in the <code>ScalarVariable</code> element definitions below.]</em></p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Enumeration_schema.png" alt="Enumeration schema" width="80%">
</div>
</div>
<div class="paragraph">
<p>These definitions are used as default values in element <code>ScalarVariable</code>s
<em>[in order that, say,
the definition of a "Torque" type does not have to be repeated over and over again]</em>.
The attributes and elements have the following meaning:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Name</em></th>
<th class="tableblock halign-left valign-top"><em>Description</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quantity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical quantity of the variable. <em>[For example, "Angle", or "Energy".
The quantity names are not standardized]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unit of the variable defined with <code>UnitDefinitions.Unit.name</code> that is used for the model equations.
<em>[For example, "N.m": in this case a <code>Unit.name = "N.m"</code> must be present under <code>UnitDefinitions</code>.
Note that for variables that are without a unit, the element should not have a <code>unit</code> attribute.
Giving an empty string as a <code>unit</code> attribute specifies a valid unit that needs to be defined among the unit definitions.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">displayUnit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default display unit. The conversion to the <code>"unit"</code> is defined with the
element <code>"&lt;fmiModelDescription&gt;&lt;UnitDefinitions&gt;`".
If the corresponding
`"displayUnit"</code> is not defined under <code>&lt;UnitDefinitions&gt; &lt;Unit&gt; &lt;DisplayUnit&gt;</code>,
then <code>displayUnit</code> is ignored.
It is an error if <code>displayUnit</code> is defined in element <code>Real</code>,
but <code>unit</code> is not, or unit is not defined under <code>&lt;UnitDefinitions&gt;&lt;Unit&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">relativeQuantity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If this attribute is <code>true</code>,
then the <code>"offset"</code> of <code>"BaseUnit"</code> and <code>"displayUnit"</code> must be ignored.
<em>[For example, 10 degree Celsius = 10 Kelvin if <code>"relativeQuantity = true"</code> and not 283.15 Kelvin.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum value of variable (variable value ≥ <code>min</code>).
If not defined, the minimum is the largest negative number that can be represented on the machine.
The <code>min</code> definition is information from the FMU to the environment defining the region in which the FMU is designed to operate,
see also comment after this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum value of variable (variable value ≤ <code>max</code>).
If not defined, the maximum is the largest positive number that can be represented on the machine.
The <code>max</code> definition is information from the FMU to the environment defining the region in which the FMU is designed to operate,
see also comment after this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nominal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nominal value of variable.
If not defined and no other information about the nominal value is available,
then nominal = 1 is assumed.<br>
<em>[The nominal value of a variable can be,
for example, used to determine the absolute tolerance for this variable as needed by numerical algorithms:</em><br>
absoluteTolerance = <code>nominal</code> * <code>tolerance</code> * 0.01<br>
<em>where <code>tolerance</code> is, for example, the relative tolerance defined in <code>&lt;DefaultExperiment&gt;</code>,
see section 2.2.5.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unbounded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true,
indicates that during time integration, the variable gets a value much larger than its nominal value <code>nominal</code>.
<em>[Typical examples are the monotonically increasing rotation angles of crank shafts and the longitudinal position of a vehicle along the track in long distance simulations.
This information can, for example,
be used to increase numerical stability and accuracy by setting the corresponding bound for the relative error to zero (relative tolerance = 0.0),
if the corresponding variable or an alias of it is a continuous state variable.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Item</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Item of an enumeration has a sequence of <code>"name"</code> and <code>"value"</code> pairs.
The values can be any integer number
but must be unique within the same enumeration (in order that the mapping between <code>"name"</code> and <code>"value"</code> is bijective).
An <code>Enumeration</code> element must have at least one Item.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[Attributes <code>min</code> and <code>max</code> can be set for variables of type Real, Integer or Enumeration.
The question is how <code>fmi2SetReal</code>, <code>fmi2SetInteger</code>, <code>fmi2GetReal</code>,
<code>fmi2GetInteger</code> shall utilize this definition.
There are several conflicting requirements:</em><br>
<em>Avoiding forbidden regions
(for example, if "u" is an input and "sqrt(u)" is computed in the FMU,
min=0 on "u" shall guarantee that only values of "u" in the allowed regions are provided).</em>
<em>Numerical algorithms
(ODE-solver, optimizers. nonlinear solvers) do not guarantee constraints.
If a variable is outside of the bounds, the solver tries to bring it back into the bounds.
As a consequence,
calling fmi2GetReal during an iteration of such a solver might return values that are not in the defined min/max region.
After the iteration is finalized,
it is only guaranteed that a value is within its bounds up to a certain numerical precision.</em><br>
<em>In debug mode checks on min/max should be performed.
For maximum performance on a real-time system the checks might not be performed.</em><br>
<em>The approach in FMI is therefore that min/max definitions are an information from the FMU to the environment defining the region in which the FMU is designed to operate.
The environment is free to utilize this information
(typically, in debug mode of the environment the min/max is checked in the cases as stated above).
In any case,
it is expected that the FMU handles variables appropriately where the region definition is critical.
For example,
dividing by an input (so the input should not be in a small range of zero) or taking the square root of an input (so the input should not be negative) may either result in fmi2Error,
or the FMU is able to handle this situation in other ways.</em></p>
</div>
<div class="paragraph">
<p><em>If the FMU is generated so that min/max shall be checked whenever meaningful
(for example, for debug purposes), then the following strategy should be used:</em></p>
</div>
<div class="paragraph">
<p><em>If <code>fmi2SetReal</code> or <code>fmi2SetInteger</code> is called violating the min/max attribute settings of the corresponding variable,
the following actions are performed:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>On a fixed or tunable parameter <code>fmi2Status = fmi2Discard</code> is returned.</em></p>
</li>
<li>
<p><em>On an input, the FMU decides what to return (If no computation is possible,
it could return <code>fmi2Status =  fmi2Discard</code>,
in other situations it may return <code>fmi2Warning</code> or <code>fmi2Error</code>,
or <code>fmi2OK</code>, if it is uncritical).</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>If an FMU defines min/max values for Integer and Enumerations (local and output variables),
then the expected behavior of the FMU is that <code>fmi2GetInteger</code> returns values in the defined range.</em></p>
</div>
<div class="paragraph">
<p><em>If an FMU defines min/max values for Reals,
then the expected behavior of the FMU is that <code>fmi2GetReal</code> returns values at the solution (accepted steps of the integrators) in the defined range with a certain uncertainty related to the tolerances of the numerical algorithms.]</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_definition_of_log_categories_logcategories">Definition of Log Categories (LogCategories)</h4>
<div class="paragraph">
<p>Element <code>"LogCategories"</code> of <code>"fmiModelDescription</code> is defined as:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/LogCategories_schema.png" alt="LogCategories schema" width="70%">
</div>
</div>
<div class="paragraph">
<p><code>LogCategories</code> defines an unordered set of category strings that can be utilized to define the log output via function <code>"logger"</code>, see section 2.1.5.
A tool is free to use any <code>normalizedString</code> for a category value.
The <code>"name"</code> attribute of <code>"Category"</code> must be unique with respect to all other elements of the <code>LogCategories</code> list.</p>
</div>
<div class="paragraph">
<p>There are the following standardized names for <code>"Category"</code> and these names should be used if a tool supports the corresponding log category.
If a tool supports one of these log categories and wants to expose it,
then an element Category with this name should be added to <code>LogCategories</code> <em>[To be clear, only the Category names listed under <code>LogCategories</code> in the XML file are known to the environment in which the FMU is called.]</em></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Category name</em></th>
<th class="tableblock halign-left valign-top"><em>Description</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logEvents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log all events (during initialization and simulation).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logSingularLinearSystems</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log the solution of linear systems of equations if the solution is singular (and the tool picked one solution of the infinitely many solutions).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logNonlinearSystems</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log the solution of nonlinear systems of equations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logDynamicStateSelection</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log the dynamic selection of states.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logStatusWarning</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log messages when returning fmi2Warning status from any function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logStatusDiscard</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log messages when returning fmi2Discard status from any function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logStatusError</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log messages when returning fmi2Error status from any function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logStatusFatal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log messages when returning fmi2Fatal status from any function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logStatusPending</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log messages when returning fmi2Pending status from any function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">logAll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log all messages.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The optional attribute <code>description</code> shall contain a description of the respective log category.
<em>[Typically, this string can be shown by a tool if more details for a log category shall be presented.]</em></p>
</div>
<div class="paragraph">
<p><em>[This approach to define <code>LogCategories</code> has the following advantages:</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>A simulation environment can present the possible log categories in a menu and the user can select the desired one (in the FMI 1.0 approach,
there was no easy way for a user to figure out from a given FMU what log categories could be provided).</em></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>[Note that since element <code>&lt;LogCategories&gt;</code> is optional,
an FMU does not need to expose its log categories.]</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>The log output is drastically reduced,
because via <code>fmi2SetDebugLogging</code> exactly the categories are set that shall be logged and therefore the FMU only has to print the messages with the corresponding categories to the <code>"logger"</code> function.
In FMI 1.0, it was necessary to provide all log output of the FMU to the <code>"logger"</code> and then a filter in the <code>"logger"</code> could select what to show to the end-user.
The approach introduced in FMI 2.0 is therefore much more efficient.]</em></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_definition_of_a_default_experiment_defaultexperiment">Definition of a Default Experiment (DefaultExperiment)</h4>
<div class="paragraph">
<p>Element <code>"DefaultExperiment"</code> of <code>fmiModelDescription</code> is defined as:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/DefaultExperiment_schema.png" alt="DefaultExperiment schema" width="70%">
</div>
</div>
<div class="paragraph">
<p><code>DefaultExperiment</code> consists of the optional default start time,
stop time, relative tolerance, and step size for the first simulation run.
A tool may ignore this information.
However, it is convenient for a user that <code>startTime</code>, <code>stopTime</code>,
<code>tolerance</code> and <code>stepSize</code> have already a meaningful default value for the model at hand.
Furthermore, for CoSimulation the <code>stepSize</code> defines the preferred <code>communicationStepSize</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_definition_of_vendor_annotations_vendorannotations">Definition of Vendor Annotations (VendorAnnotations)</h4>
<div class="paragraph">
<p>Element <code>"VendorAnnotations"</code> of <code>fmiModelDescription</code> is defined as:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/VendorAnnotations_schema.png" alt="VendorAnnotations schema" width="80%">
</div>
</div>
<div class="paragraph">
<p><code>VendorAnnotations</code> consist of an ordered set of annotations that are identified by the name of the tool that can interpret the <code>"any"</code> element.
The <code>"any"</code> element can be an arbitrary XML data structure defined by the tool.
Attribute <code>"name"</code> must be unique with respect to all other elements of the <code>VendorAnnotation</code> list.</p>
</div>
</div>
<div class="sect3">
<h4 id="_definition_of_model_variables_modelvariables">Definition of Model Variables (ModelVariables)</h4>
<div class="paragraph">
<p>The <code>"ModelVariables"</code> element of <code>fmiModelDescription</code> is the central part of the model description.
It provides the static information of all exposed variables and is defined as:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ModelVariables_schema.png" alt="ModelVariables schema" width="100%">
</div>
</div>
<div class="paragraph">
<p>The <code>"ModelVariables"</code> element consists of an ordered set of <code>ScalarVariable</code> elements (see figure above).
The first element has <code>index = 1</code>,
the second <code>index=2</code>, etc.
This <code>ScalarVariable</code> <code>index</code> is used in element <code>ModelStructure</code> to uniquely and efficiently refer to <code>ScalarVariable</code> definitions.
A <code>ScalarVariable</code> represents a variable of primitive type, like a real or integer variable.
For simplicity,
only scalar variables are supported in the schema file in this version and structured entities (like arrays or records) have to be mapped to scalars.
The schema definition is present in a separate file <code>fmi2ScalarVariable.xsd</code>.
The attributes of <code>ScalarVariable</code> are:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/ScalarVariable_schema.png" alt="ScalarVariable schema" width="90%">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Attribute-Name</em></th>
<th class="tableblock halign-left valign-top"><em>Description</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The full, <span class="underline">unique name</span> of the variable.
Every variable is uniquely identified within an FMU instance by this name or by its <code>ScalarVariable index</code> (the element position in the <code>ModelVariables</code> list; the first list element has <code>index=1</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valueReference</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle of the variable to efficiently identify the variable value in the model interface.
This handle is a secret of the tool that generated the C functions.
It is not required to be unique.
The only guarantee is that valueReference is sufficient to identify the respective variable value in the call of the C functions.
This implies that it is unique for a particular base data type
(<code>Real</code>, <code>Integer/Enumeration</code>, <code>Boolean</code>, <code>String</code>)
with exception of variables that have identical values (such variables are also called "alias" variables).
This attribute is "required".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional description string describing the meaning of the variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>causality</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enumeration that defines the causality of the variable.
Allowed values of this enumeration:</p>
<p class="tableblock">- <code>"parameter"</code>: Independent parameter (a data value that is constant during the simulation and is provided by the environment and cannot be used in connections).
<code>variability</code> must be <code>"fixed"</code> or <code>"tunable"</code>.
<code>initial</code> must be <code>exact</code> or not present (meaning <code>exact</code>).</p>
<p class="tableblock">- <code>"calculatedParameter"</code>: A data value that is constant during the simulation and is computed during initialization or when tunable parameters change.
<code>variability</code> must be <code>"fixed"</code> or <code>"tunable"</code>.
initial must be <code>"approx"</code>, <code>"calculated"</code> or not present (meaning <code>calculated</code>).</p>
<p class="tableblock">- <code>"input"</code>: The variable value can be provided from another model or slave.
It is not allowed to define <code>initial</code>.</p>
<p class="tableblock">- <code>"output"</code>: The variable value can be used by another model or slave.
The algebraic relationship to the inputs is defined via the <code>dependencies</code> attribute of <code>&lt;fmiModelDescription&gt;&lt;ModelStructure&gt;&lt;Outputs&gt;&lt;Unknown&gt;</code>.</p>
<p class="tableblock">- <code>"local"</code>: Local variable that is calculated from other variables or is a continuous-time state (see section 2.2.8).
It is not allowed to use the variable value in another model or slave.</p>
<p class="tableblock">- <code>"independent"</code>: The independent variable (usually <code>"time"</code>).
All variables are a function of this independent variable.
<code>variability</code> must be <code>"continuous"</code>.
At most one <code>ScalarVariable</code> of an FMU can be defined as <code>"independent"</code>.
If no variable is defined as <code>"independent"</code>,
it is implicitly present with name = <code>"time"</code> and <code>unit = "s"</code>.
If one variable is defined as <code>"independent"</code>,
it must be defined as <code>"Real"</code> without a <code>"start"</code> attribute.
It is not allowed to call function <code>fmi2SetReal</code> on an <code>"independent"</code> variable.
Instead, its value is initialized with <code>fmi2SetupExperiment</code> and after initialization set by <code>fmi2SetTime</code> for ModelExchange and by arguments <code>currentCommunicationPoint</code> and <code>communicationStepSize</code> of <code>fmi2DoStep</code> for CoSimulation.
<em>[The actual value can be inquired with <code>fmi2GetReal</code>.]</em></p>
<p class="tableblock">The default of causality is <code>"local"</code>.<br>
A continuous-time state must have <code>causality = "local"</code> or <code>"output"</code>, see also section 2.2.8.</p>
<p class="tableblock"><em>[<code>causality = "calculatedParameter"</code> and <code>causality = "local"</code> with <code>variability = "fixed"</code> or <code>"tunable"</code> are similar.
The difference is that a <code>calculatedParameter</code> can be used in another model or slave,
whereas a local variable cannot.
For example, when importing an FMU in a Modelica environment,
a <code>"calculatedParameter"</code> should be imported in a <code>public</code> section as <code>final parameter</code>,
whereas a <code>"local"</code> variable should be imported in a <code>protected</code> section of the model.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>variability</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enumeration that defines the time dependency of the variable,
in other words, it defines the time instants when a variable can change its value.
<em>[The purpose of this attribute is to define when a result value needs to be inquired and to be stored.
For example, discrete variables change their values only at event instants (ModelExchange) or at a communication point (CoSimulation) and it is therefore only necessary to inquire them with <code>fmi2GetXXX</code> and store them at event times.]</em>
Allowed values of this enumeration:</p>
<p class="tableblock">- <code>"constant"</code>: The value of the variable never changes.</p>
<p class="tableblock">- <code>"fixed"</code>: The value of the variable is fixed after initialization,
in other words, after <code>fmi2ExitInitializationMode</code> was called the variable value does not change anymore.</p>
<p class="tableblock">- <code>"tunable"</code>: The value of the variable is constant between <code>external events</code> (ModelExchange) and between <em>Communication Points</em> (Co-Simulation) due to changing variables with <code>causality = "parameter"</code> or <code>"input"</code> and <code>variability = "tunable"</code>.
Whenever a parameter or input signal with <code>variability = "tunable"</code> changes,
an event is triggered externally (ModelExchange), or the change is performed at the next <em>Communication Point</em> (Co-Simulation) and the variables with <code>variability = "tunable"</code> and <code>causality = "calculatedParameter"</code> or <code>"output"</code> must be newly computed.</p>
<p class="tableblock">- <code>"discrete"</code>:<br>
ModelExchange: The value of the variable is constant between <em>external</em> and <em>internal events</em> (= time,
state, step events defined implicitly in the FMU).<br>
Co-Simulation: By convention, the variable is from a "real" sampled data system and its value is only changed at Communication Points (also inside the slave).</p>
<p class="tableblock">- <code>"continuous"</code>: Only a variable of <code>type = "Real"</code> can be <code>"continuous"</code>.<br>
ModelExchange: No restrictions on value changes.<br>
Co-Simulation: By convention, the variable is from a differential</p>
<p class="tableblock">The default is <code>"continuous"</code>.</p>
<p class="tableblock"><em>[Note that the information about continuous states is defined with element
<code>fmiModelDescription.ModelStructure.Derivatives</code>.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initial</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enumeration that defines how the variable is initialized.
It is not allowed to provide a value for <code>initial</code> if <code>causality = "input"</code> or <code>"independent"</code>:</p>
<p class="tableblock">- = <code>"exact"</code>: The variable is initialized with the start value (provided under <code>Real</code>,
<code>Integer</code>, <code>Boolean</code>, <code>String</code> or <code>Enumeration</code>).</p>
<p class="tableblock">- = <code>"approx"</code>: The variable is an iteration variable of an algebraic loop and the iteration at initialization starts with the start value.</p>
<p class="tableblock">- = <code>"calculated"</code>: The variable is calculated from other variables during initialization.
It is not allowed to provide a <code>"start"</code> value.</p>
<p class="tableblock">If <code>"initial"</code> is not present,
it is defined by the table below based on <code>"causality"</code> and <code>"variability"</code>.
If <code>initial = "exact"</code> or <code>"approx"</code>, or <code>causality = "input"</code>, a start value must be provided.
If <code>initial = "calculated"</code>,
or <code>causality = "independent"</code>, it is not allowed to provide a start value.</p>
<p class="tableblock"><em>[The environment decides when to use the start value of a variable with <code>causality = "input"</code>.
Examples: (a) automatic tests of FMUs are performed,
and the FMU is tested by providing the start value as constant input.
(b) For a ModelExchange FMU, the FMU might be part of an algebraic loop.
If the input variable is iteration variable of this algebraic loop,
then initialization starts with its start value.]</em></p>
<p class="tableblock">If <code>fmiSetXXX</code> is not called on a variable with <code>causality = "input"</code>, then the FMU must use the start value as value of this input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>canHandleMultipleSetPerTimeInstant</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only for ModelExchange (if only CoSimulation FMU, this attribute must not be present.
If both ModelExchange and CoSimulation FMU, this attribute is ignored for CoSimulation):<br>
Only for variables with <code>variability = "input"</code>:<br>
If present with <code>value = false</code>, then only one <code>fmi2SetXXX</code> call is allowed at one super dense time instant (model evaluation) on this variable.
That is, this input is not allowed to appear in a (real) algebraic loop requiring multiple calls of <code>fmi2SetXXX</code> on this variable
<em>[for example, due to a Newton iteration]</em>.<br>
<em>[This flag must be set by FMUs where (internal) discrete-time states are directly updated when assigned (xd := f(xd) instead of xd = f(previous(xd)),
and at least one output depends on this input and on discrete states.</em><br>
<em>It is strongly recommended that such an FMU checks the fulfillment of the requirement by itself during run-time,
because an environment might not be able to check it;
usually, there is a generic mechanism to import an FMU in an environment,
but the mechanism to connect FMUs together is unrelated to the import mechanism.
For example,
there is no mechanism in the Modelica language to formulate connection restrictions for C functions (the FMU) called in a Modelica model.]</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>fmi2SetXXX</strong> can be called on any variable with <code>variability ≠ "constant"</code> <strong>before initialization</strong> (before calling <code>fmi2EnterInitializationMode</code>)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if <code>initial = "exact"</code> or <code>"approx"</code> <em>[in order to set the corresponding <code>start</code> value.]</em>
<em>[Note that this prevents any changes to the input before <code>fmi2EnterInitializationMode</code> is called.]</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>fmi2SetXXX</strong> can be called on any variable with <code>variability ≠ "constant"</code> <strong>during initialization</strong> (after calling <code>fmi2EnterInitializationMode</code> and before <code>fmi2ExitInitializationMode</code> is called)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if <code>initial = "exact"</code> <em>[in order to set the corresponding <code>start</code> value]</em>, or</p>
</li>
<li>
<p>if <code>causality = "input"</code> <em>[in order to provide new values for inputs]</em>,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>fmi2SetXXX</strong> can be called on any variable <strong>for ModelExchange</strong> <strong>at an event instant</strong> (after calling <code>fmi2EnterEventMode</code> and before <code>fmi2EnterContinuousTimeMode</code> is called),
and <strong>for Co-Simulation at every communication point</strong>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if <code>causality = "parameter"</code> and <code>variability = "tunable"</code> <em>[in order to change the value of the tunable parameter at an event instant or at a communication point]</em>, or</p>
</li>
<li>
<p>if causality = "input" <em>[in order to provide new values for inputs]</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>fmi2SetXXX</strong> can be called on any variable for <strong>ModelExchange in Continuous-Time Mode</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>if <code>causality = "input"</code> and <code>variability = "continuous"</code><br>
<em>[in order to provide new values for inputs during continuous integration]</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If <code>initial</code> is not present, its value is defined by the following tables
based on the values of <code>causality</code> and <code>variability</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3" rowspan="2"></td>
<td class="tableblock halign-center valign-top" colspan="6"><p class="tableblock"><strong>causality</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>parameter</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>calculated</strong> <strong>parameter</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>input</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>output</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>local</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>independent</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock"><strong>variability</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="3"><p class="tableblock">data</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>constant</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(A)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(A)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>fixed</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(A)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="maroon">(B)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="maroon">(B)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>tunable</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(A)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="maroon">(B)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="maroon">(B)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">signals</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>discrete</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="aqua">(D)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(C)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(C)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>continuous</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="aqua">(D)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(C)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(C)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="purple">(E)</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>with</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>initial</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>default</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>possible values</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="green">(A)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="green">exact</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="green">exact</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="maroon">(B)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="maroon">calculated</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="maroon">approx,</span><br>
 <span class="maroon">calculated</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(C)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">calculated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exact,<br>
approx,<br>
calculated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="aqua">(D)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="aqua">---</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="aqua">---</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="purple">(E)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="purple">---</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="purple">---</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[Note: (1) If <code>causality = "independent"</code>,
it is neither allowed to define a value for <code>initial</code> nor a value for start.
(2) If <code>causality = "input"</code>,
it is not allowed to define a value for <code>initial</code> and a value for start must be defined.
(3) If (C) and <code>initial = "exact"</code>,
then the variable is explicitly defined by its start value in Initialization Mode (so directly after calling <code>fmi2ExitInitializationMode</code>,
the value of the variable is either the start value stored in element <code>&lt;ScalarVariable&gt;&lt;XXX start=YYY/&gt;</code>
or the value provided by <code>fmiSetXXX</code>,
if this function was called on this variable).]</em></p>
</div>
<div class="paragraph">
<p>The following combinations of variability/causality settings are allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3" rowspan="2"></td>
<td class="tableblock halign-center valign-top" colspan="6"><p class="tableblock"><strong>causality</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>parameter</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>calculated</strong> <strong>parameter</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>input</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>output</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>local</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>independent</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock"><strong>variability</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="3"><p class="tableblock">data</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>constant</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (a)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (a)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (a)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(7)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(10)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (c)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>fixed</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(1)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(3)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (d)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (e)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(11)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (c)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>tunable</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(2)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(4)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (d)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (e)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(12)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (c)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">signals</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>discrete</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (b)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (b)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(5)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(8)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(13)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">--(c)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>continuous</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (b)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="red">-- (b)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(6)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(9)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(14)</span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="green">(15)</span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>Discussion of the combinations that are <span class="underline">not allowed</span></em>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 90.9091%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Explanation why this combination is not allowed</em></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em><span class="red">(a)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The combinations <code>"constant" / "parameter"</code>,
<code>"constant" / "calculatedParameter"</code> and <code>"constant" / "input"</code> do not make sense,
since parameters and inputs are set from the environment,
whereas a constant has always a value.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em><span class="red">(b)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The combinations <code>"discrete / parameter"</code>,
<code>"discrete / calculatedParameter"</code>,
<code>"continuous / parameter"</code> and <code>"continuous" / "calculatedParameter"</code> do not make sense,
since <code>causality = "parameter"</code> and <code>"calculatedParameter"</code> define variables that do not depend on time,
whereas <code>"discrete"</code> and <code>"continuous"</code> define variables where the values can change during simulation.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em><span class="red">(c)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For an <code>"independent"</code> variable only <code>variability = "continuous"</code> makes sense.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em><span class="red">(d)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A <code>"fixed"</code> or <code>"tunable"</code> input has exactly the same properties as a <code>"fixed"</code> or <code>"tunable"</code> parameter.
For simplicity, only <code>"fixed"</code> and <code>"tunable"</code> parameters shall be defined.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em><span class="red">(e)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A <code>"fixed"</code> or <code>"tunable"</code> output has exactly the same properties as a <code>"fixed"</code> or <code>"tunable"</code> <code>calculatedParameter</code>.
For simplicity, only <code>"fixed"</code> and <code>"tunable"</code> <code>calculatedParameters</code> shall be defined.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>Discussion of the combinations that are</em> <span class="underline">allowed</span>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 25%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><em>Setting</em></th>
<th class="tableblock halign-left valign-top"><em>Example</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(1)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>fixed parameter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Non-tunable independent parameter</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(2)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunable parameter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Tunable independent parameter (changing such a parameter triggers an external event (ModelExchange) or takes effect at the next Communication Point (CoSimulation),
and tunable calculatedParameter/output/local variables might change their values).</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(3)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>fixed dependent parameter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Non-tunable dependent parameter (variable that is computed directly or indirectly from constants or parameters).</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(4)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunable dependent parameter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Tunable dependent parameter (changing an independent parameter triggers an external event (ModelExchange) or takes effect at the next Communication Point (CoSimulation),
and tunable dependent parameters and tunable local variables might change their values).</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(5)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>discrete input</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Discrete input variable from another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(6)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>continuous input</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Continuous input variable from another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(7)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>constant output</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Variable where the value never changes and that can be used in another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(8)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>discrete output</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Discrete variable that is computed in the FMU.
Can be used in another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(9)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>continuous output</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Continuous variable that is computed in the FMU and can be used in another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(10)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>constant local</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Variable where the value never changes.
Cannot be used in another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(11)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>fixed local</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Local variable that depends on fixed parameters only and is computed in the FMU.
Cannot be used in another model.
After initialization, the value of this local variable cannot change.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(12)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>tunable local</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Local variable that depends on tunable parameters only and is computed in the FMU.
Cannot be used in another model.
The value of this local variable can only change during initialization and at event instants,
provided a tunable parameter was changed.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(13)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>discrete local</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Discrete variable that is computed in the FMU and cannot be used in another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(14)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>continuous local</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Continuous variable that is computed in the FMU and cannot be used in another model.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em><span class="green">(15)</span></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>continuous independent</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>All variables are a function of the continuous-time variable marked as <code>"independent"</code>.
Usually, this is `"time"`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>How to treat tunable variables:</em></p>
</div>
<div class="paragraph">
<p><em>A parameter p is a variable that does not change its value during simulation,
in other words, dp/dt = 0.
If the parameter "p" is changing,
then Dirac impulses are introduced since dp/dt of a discontinuous constant variable "p" is a Dirac impulse.
Even if this Dirac impulse would be modeled correctly by the modeling environment,
it would introduce unwanted "vibrations".
Furthermore,
in many cases the model equations are derived under the assumption of a constant value (like mass or capacity),
and the model equations would be different if "p" would be time varying.</em></p>
</div>
<div class="paragraph">
<p><em>FMI for Model Exchange:</em><br>
<em>Therefore,
"tuning a parameter" during simulation does not mean to "change the parameter online" during simulation.
Instead, this is a short hand notation for:</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>Stop the simulation at an event instant</em>
(usually, a step event, in other words, after a successful integration step).</p>
</li>
<li>
<p><em>Change the values of the tunable parameters.</em></p>
</li>
<li>
<p><em>Compute all parameters that depend on the tunable parameters.</em></p>
</li>
<li>
<p><em>Newly start the simulation using as initial values the current values of all previous variables and the new values of the parameters.</em></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>Basically this means that a new simulation run is started from the previous FMU state with changed parameter values.
With this interpretation, changing parameters online is "clean",
as long as these changes appear at an event instant.</em></p>
</div>
<div class="paragraph">
<p><em>FMI for Co-Simulation:</em>
<em>Changing of tunable parameters is allowed before an <code>fmi2DoStep</code> call (so, whenever an input can be set with <code>fmi2SetXXX</code>) and before <code>fmi2ExitInitializationMode</code> is called (that is before and during Initialization Mode).
The FMU internally carries out event handling if necessary.]</em></p>
</div>
<div class="paragraph">
<p>Variables of the same base type (like <code>fmi2Real</code>) that have identical <code>valueReference</code> definitions are called "alias" variables.
The main purpose of "alias" variables is to enhance efficiency.
If two variables <code>a</code> and <code>b</code> are alias variables,
then this is only allowed if the behavior of the FMU would be exactly the same
if <code>a</code> and <code>b</code> were not treated as alias variables (that is,
had different <code>valueReference</code>s).
This requirement leads naturally to the following restrictions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Variables <code>a</code> and <code>b</code> that can both be set with <code>fmi2SetXXX</code>,
or variable <code>a</code> that can be set with <code>fmiSetXXX</code> and variable <code>b</code> that is defined with <code>causality = "independent"</code>,
cannot be alias variables [since these variables are <code>"independent"</code> variables and alias means that there is a constraint equation between variables (= the values are the same),
these variables are no longer <code>"independent"</code>.<br>
For example, if variables <code>a</code> and <code>b</code> have <code>causality = "parameter"</code>,
then the value references of <code>a</code> and <code>b</code> must be different.
However, if variable a has <code>causality = "parameter"</code> and <code>b</code> has <code>causality = "calculatedParameter"</code> and <code>b := a</code>,
then <code>a</code> and <code>b</code> can have the same value reference.].</p>
</li>
<li>
<p>At most one variable of the same alias set of variables with <code>variability ≠ "constant"</code> can have a start attribute.</p>
</li>
<li>
<p>A variable with <code>variability = "constant"</code> can only be aliased to another variable with <code>variability = "constant"</code>.
It is then required that the start values of all aliased (constant) variables are identical.</p>
</li>
<li>
<p>All variables of the same alias set must all have either no <code>&lt;Unit&gt;</code> element defined, or all of them must have the same <code>&lt;Unit name&gt;</code> and the same <code>&lt;Unit&gt;&lt;BaseUnit&gt;</code> definitions.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The aliasing of variables only means that the <code>"value"</code> of the variables is always identical.
However, aliased variables may have different attributes,
such as <code>min/max/nominal</code> values or description texts.
<em>[For example, if v1, v2 are two alias variables with <code>v1=v2</code> and <code>v1.max=10</code> and <code>v2.max=5</code>,
then the FMU will trigger an error if either <code>v1</code> or <code>v2</code> becomes larger than 5.]</em></p>
</div>
<div class="paragraph">
<p><em>[The dependency definition in <code>fmiModelDescription.ModelStructure</code> is completely unrelated to the alias definition.
In particular,
the "direct dependency" definition can be a superset of the "real" direct dependency definition,
even if the "alias" information shows that this is too conservative.
For example, if it is stated that the output <code>y1</code> depends on input <code>u1</code> and the output <code>y2</code> depends on input <code>u2</code>,
and <code>y1</code> is an alias to <code>y2</code>, then this definition is fine,
although it can be deduced that in reality neither <code>y1</code> nor <code>y2</code> depend on any input.].</em></p>
</div>
<div class="paragraph">
<p><em>[In case of different variability among the set of alias variables,
and if that set of aliases does not contain an input or parameter,
the variability should be the highest of the variables in the set, e.g. continuous &gt; discrete &gt; tunable &gt;fixed.
If the set includes a parameter or input the aliases will have the stated variability of that parameter or input].</em></p>
</div>
<div class="paragraph">
<p>Type specific properties are defined in the required choice element,
where exactly one of <code>"Real"</code>, <code>"Integer"</code>, <code>"Boolean"</code>, <code>"String"</code>,
<code>"Enumeration"</code> must be present in the XML file:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Real_Schema_large.png" alt="Real Schema large" width="50%">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Integer_Schema_large.png" alt="Integer Schema large" width="50%">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Boolean_Schema_large.png" alt="Boolean Schema large" width="50%">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/String_Schema_large.png" alt="String Schema large" width="50%">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/Enumeration_Schema_large.png" alt="Enumeration Schema large" width="50%">
</div>
</div>
<div class="paragraph">
<p>The attributes are defined in section 2.2.3 ("`TypeDefinitions"`), except:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Attribute-Name</em></th>
<th class="tableblock halign-left valign-top"><em>Description</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>declaredType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present, name of type defined with <code>TypeDefinitions / SimpleType</code>.
The value defined in the corresponding <code>TypeDefinition</code> (see section 2.2.3) is used as default.
<em>[For example, if <code>min</code> is present both in <code>Real</code> (of <code>TypeDefinition</code>) and in <code>"Real"</code> (of <code>ScalarVariable</code>),
then the <code>min</code> of <code>ScalarVariable</code> is actually used.]</em>
For <code>Real</code>, <code>Integer</code>, <code>Boolean</code>, <code>String</code>, this attribute is optional.
For <code>Enumeration</code> it is required,
because the Enumeration items are defined in <code>TypeDefinitions / SimpleType</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>start</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial or guess value of variable.
<strong>This value is also stored in the C functions</strong>.</p>
<p class="tableblock"><em>[Therefore, calling <code>fmi2SetXXX</code> to set start values is only necessary, if a different value as stored
in the xml file is desired.
WARNING: It is not recommended to change the start values in the modelDescription.xml file of an FMU, as this would break the consistency with the hard-coded start values in the C-Code.
This could lead to unpredictable behaviour of the FMU in different importing tools, as it is not mandatory to call <code>fmi2SetXXX</code> to set start values during initialization. Instead it is recommended to use the SSP Standard (<a href="https://ssp-standard.org/" class="bare">https://ssp-standard.org/</a>) to handle modified parameters of FMUs or different parameter sets.]</em></p>
<p class="tableblock">The interpretation of start is defined by <code>ScalarVariable / initial</code>.
A different start value can be provided with an <code>fmi2SetXXX</code> function before <code>fmi2ExitInitializationMode</code> is called (but not for variables with <code>variability = "constant"</code>).</p>
<p class="tableblock"><em>[The standard approach is to set the start value before <code>fmi2EnterInitializationMode</code>.
However, if the initialization shall be modified in the calling environment
(for example, changing from initialization of states to steady-state initialization),
it is also possible to use the start value as iteration variable of an algebraic loop: using an additional condition in the environment,
such as</em> \(\color{blue}{\dot{x} = 0}\) <em>, the actual start value is determined.]</em></p>
<p class="tableblock">If <code>initial = "exact"</code> or <code>"approx"</code> or <code>causality = "input"</code>,
a <code>start</code> value must be provided.</p>
<p class="tableblock">If <code>initial = "calculated"</code> or <code>causality = "independent"</code>,
it is not allowed to provide a start value.</p>
<p class="tableblock">Variables with <code>causality = "parameter"</code> or <code>"input"</code>,
as well as variables with <code>variability = "constant"</code>, must have a <code>"start"</code> value.</p>
<p class="tableblock">- If <code>causality = "parameter"</code>, the start-value is the value of it.</p>
<p class="tableblock">- If <code>causality = "input"</code>, the start value is used by the model as value of the input,
if the input is not set by the environment.</p>
<p class="tableblock">- If <code>variability = "constant"</code>, the start value is the value of the constant.</p>
<p class="tableblock">- If <code>causality = "output"</code> or <code>"local"</code>, then the start value is either an <code>initial</code> or a <code>guess</code> value,
depending on the setting of attribute <code>initial</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>derivative</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present, this variable is the derivative of variable with <code>ScalarVariable</code> index "derivative".
<em>[For example,
if there are 10 <code>ScalarVariable</code>s and <code>derivative = 3</code> for <code>ScalarVariable</code> 8,
then <code>ScalarVariable</code> 8 is the derivative of <code>ScalarVariable</code> 3 with respect to the independent variable (usually time).
This information might be especially used if an input or an output is the derivative of another input or output,
or to define the states.]</em></p>
<p class="tableblock">The state derivatives of an FMU are listed under element <code>&lt;ModelStructure&gt;&lt;Derivatives&gt;</code>.
All <code>ScalarVariable</code>s listed in this element must have attribute <code>derivative</code> (in order that the continuous-time states are uniquely defined).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reinit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only for ModelExchange (if only CoSimulation FMU,
this attribute must not be present.
If both ModelExchange and CoSimulation FMU,
this attribute is ignored for CoSimulation):<br>
Can only be present for a continuous-time state.<br>
If true, state can be reinitialized at an event by the FMU.<br>
If false, state will not be reinitialized at an event by the FMU.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min / max</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional attributes <code>min</code> and <code>max</code> in element <code>Enumeration</code> restrict the allowed values of the enumeration.
The <code>min/max</code> definitions are information from the FMU to the environment defining the region in which the FMU is designed to operate,
see also comment in section 2.2.3.
<em>[If, for example, an <code>Enumeration</code> is defined with <code>name1 = -4</code>, <code>name2 = 1</code>, <code>name3 = 5</code>,
<code>name4 = 11</code> and min=-2, max = 5, then only <code>name2</code> and <code>name3</code> are allowed.]</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>With element <code>Annotations</code> additional, tool specific data can be defined:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Annotations_schema.png" alt="Annotations schema" width="80%">
</div>
</div>
<div class="paragraph">
<p>With <code>Tool.name</code> the name of the tool is defined that can interpret the <code>any</code> element.
The <code>any</code> element can be an arbitrary XML data structure defined by the tool.
<em>[Typically, additional data is defined here how to build up the menu for the variable,
including the graphical layout and enabling/disabling an input field based on the values of other parameters.]</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_definition_of_the_model_structure_modelstructure">Definition of the Model Structure (ModelStructure)</h4>
<div class="paragraph">
<p>The structure of the model is defined in element <code>ModelStructure</code> within <code>fmiModelDescription</code>.
This structure is with respect to the underlying model equations,
independently how these model equations are solved.
<em>[For example, when exporting a model both in Model Exchange and Co-Simulation format;
then the model structure is identical in both cases.
The Co-Simulation FMU has either an integrator included that solves the model equations,
or the discretization formula of the integrator and the model equations are solved together ("inline integration").
In both cases the model has the same continuous-time states.
In the second case the internal implementation is a discrete-time system,
but from the outside this is still a continuous-time model that is solved with an integration method.]</em></p>
</div>
<div class="paragraph">
<p>The required part defines an ordering of the outputs and of the (exposed) derivatives,
and defines the unknowns that are available during Initialization
<em>[Therefore, when linearizing an FMU, every tool will use the same ordering for the outputs,
states, and derivatives for the linearized model.
The ordering of the inputs should be performed in this case according to the ordering in <code>ModelVariables</code>.]</em> A ModelExchange FMU must expose all derivatives of its continuous-time states in element <code>Derivatives</code>.
A Co- Simulation FMU does not need to expose these state derivatives.
<em>[If a Co-Simulation FMU exposes its state derivatives,
they are usually not utilized for the co-simulation,
but, for example, to linearize the FMU at a communication point.]</em></p>
</div>
<div class="paragraph">
<p>The optional part defines in which way derivatives and outputs depend on inputs,
and continuous-time states at the current super dense time instant (ModelExchange) or at the current Communication Point (CoSimulation).
<em>[A simulation environment can utilize this information to improve the efficiency,
for example, when connecting FMUs together,
or when computing the partial derivative of the derivatives with respect to the states in the simulation engine.]</em>.</p>
</div>
<div class="paragraph">
<p><code>ModelStructure</code> has the following definition:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModelStructure_schema.png" alt="ModelStructure schema" width="80%">
</div>
</div>
<div class="paragraph">
<p><code>fmi2VariableDependency</code> is defined as:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Unknown_schema.png" alt="Unknown schema" width="80%">
</div>
</div>
<div class="paragraph">
<p>Elements of the <code>InitialUnknowns</code> list:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/InitialUnknowns_schema.png" alt="InitialUnknowns schema" width="50%">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Unknown_schema_2.png" alt="Unknown schema 2" width="80%">
</div>
</div>
<div class="paragraph">
<p>Note that attribute <code>dependenciesKind</code> for element <code>InitialUnknowns</code> has less enumeration values as <code>dependenciesKind</code> in the other lists.</p>
</div>
<div class="paragraph">
<p>ModelStructure consists of the following elements (see also figures above; the symbols of the mathematical equations describing the dependency are defined in section 3.1):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Element-Name</em></th>
<th class="tableblock halign-left valign-top"><em>Description</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Outputs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordered list of all outputs,
in other words, a list of <code>ScalarVariable</code> indices where every corresponding <code>ScalarVariable</code> must have <code>causality = "output"</code> (and <strong>every variable with <code>causality="output"</code> must be listed here</strong>).
<em>[Note that all output variables are listed here,
especially discrete and continuous outputs.
The ordering of the variables in this list is defined by the exporting tool.
Usually, it is best to order according to the declaration order in the source model,
since then the <code>Outputs</code> list does not change
if the declaration order of outputs in the source model is not changed.
This is for example, important for linearization,
in order that the interpretation of the output vector does not change for a re-exported FMU.]</em>
Attribute <code>dependencies</code> defines the dependencies of the outputs from the knowns at the current super dense time instant in <em>Event</em> and in <em>Continuous-Time Mode</em> (ModelExchange) and at the current <em>Communication Point</em> (CoSimulation).
The functional dependency is defined as (dependencies of variables that are fixed in <em>Event</em> and <em>Continuous-Time Mode</em> and at <em>Communication Points</em> are not shown):<br>
<span class="blue">\(\color{blue}{(\mathbf{y}_c, \mathbf{y}_d) := \mathbf{f}_{output}(\mathbf{x}_c, \mathbf{u}_c, \mathbf{u}_d, t, \mathbf{p}_{tune})}\)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Derivatives</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordered list of all state derivatives,
in other words, a list of <code>ScalarVariable</code> <code>indices</code> where every corresponding <code>ScalarVariable</code> must be a state derivative.
<em>[Note that only continuous Real variables are listed here.
If a state or a derivative of a state shall not be exposed from the FMU,
or if states are not statically associated with a variable (due to dynamic state selection),
then dummy <code>ScalarVariable</code>s have to be introduced,
for example, <code>x[4]</code>, or <code>xDynamicStateSet2[5]</code>.
The ordering of the variables in this list is defined by the exporting tool.
Usually,
it is best to order according to the declaration order of the states in the source model,
since then the &lt;Derivatives&gt; list does not change
if the declaration order of states in the source model is not changed.
This is for example, important for linearization,
in order that the interpretation of the state vector does not change for a re-exported FMU.</em>].
The number of Unknown elements in the Derivatives element uniquely defines the number of continuous time state variables,
as required by the corresponding Model Exchange functions (integer argument "nx" of <code>fmi2GetContinuousStates</code>, <code>fmi2SetcontinuousStates</code>, <code>fmi2GetDerivatives</code>, <code>fmi2GetNominalsOfContinuousStates</code> see hereafter) that require it.
The corresponding continuous-time states are defined by attribute <code>derivative</code> of the corresponding <code>ScalarVariable</code> state derivative element.
<em>[Note that higher order derivatives must be mapped to first order derivatives but the mapping definition can be preserved due to attribute <code>derivative</code>.
Example: if</em> \(\color{blue}{\frac{\text{ds}}{\text{dt}} = v,\ \frac{\text{dv}}{\text{dt}} =f(..)}\) <em>,then</em> \(\color{blue}{\left\{ v,\ \frac{\text{dv}}{\text{dt}} \right\}}\) _ is the vector of state derivatives and attribute <code>derivative</code> of_ \(\color{blue}{v}\) <em>references</em> \(\color{blue}{s}\) <em>,
and attribute <code>derivative</code> of</em> \(\color{blue}{\frac{\text{dv}}{\text{dt}}}\) <em>references</em> \(\color{blue}{v}\) <em>.]</em><br>
For Co-Simulation,
element <code>Derivatives</code> is ignored if capability flag <code>providesDirectionalDerivative</code> has a value of <code>false</code>,
in other words, it cannot be computed. <em>[This is the default.
If an FMU supports both ModelExchange and CoSimulation,
then the <code>Derivatives</code> element might be present,
since it is needed for ModelExchange.
If the above flag is set to false for the CoSimulation case,
then the <code>Derivatives</code> element is ignored for CoSimulation.
If "inline integration" is used for a CoSimulation slave,
then the model still has continuous-time states and just a special solver is used (internally the implementation results in a discrete-time system,
but from the outside, it is still a continuous-time system).]</em><br>
Attribute <code>dependencies</code> defines the dependencies of the state derivatives from the knowns at the current super dense time instant in <em>Event</em> and in <em>Continuous-Time Mode</em> (ModelExchange) and at the current <em>Communication Point</em> (CoSimulation).
The functional dependency is defined as (dependencies of variables that are fixed in <em>Event</em> and <em>Continuous-Time Mode</em> and at <em>Communication Points</em> are not shown):<br>
<span class="blue">\(\color{blue}{\dot{\mathbf{x}_c} := \mathbf{f}_{der}(\mathbf{x}_c, \mathbf{u}_c, \mathbf{u}_d, t, \mathbf{p}_{tune})}\)</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InitialUnknowns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordered list of all exposed <code>Unknowns</code> in Initialization Mode.
This list
consists of all variables with</p>
<p class="tableblock">1. <code>causality = "output"</code> and (<code>initial = "approx"</code> or <code>"calculated"</code>), and</p>
<p class="tableblock">2. <code>causality = "calculatedParameter"</code> and</p>
<p class="tableblock">3. all continuous-time states and all state derivatives (defined with element <code>&lt;Derivatives&gt;</code> from <code>&lt;ModelStructure&gt;</code>) with <code>initial = "approx"</code> or <code>"calculated"</code> <em>[if a Co-Simulation FMU does not define the &lt;Derivatives&gt; element, (3) cannot be present]</em>.</p>
<p class="tableblock">The resulting list is not allowed to have duplicates
(for example, if a state is also an output, it is included only once in the list).
The <code>Unknowns</code> in this list must be ordered according to their <code>ScalarVariable</code> index
(for example, if for two variables A and B the <code>ScalarVariable</code> index of A is less than the index of B, then A must appear before B in <code>InitialUnknowns</code>).<br>
Attribute <code>dependencies</code> defines the dependencies of the <code>Unknowns</code> from the <code>Knowns</code> in <em>Initialization Mode</em> at the initial time.
The functional dependency is defined as:</p>
<p class="tableblock"><span class="blue">\(\color{blue}{\dot{\mathbf{v}}_{initialUnknowns} := \mathbf{f}_{init}(\mathbf{u}_c, \mathbf{u}_d, t_0, \mathbf{v}_{initial = exact})}\)</span></p>
<p class="tableblock">Since, outputs, continuous-time states and state derivatives are either present as <code>Knowns</code> (if <code>initial = "exact"</code>) or as <code>Unknowns</code> (if <code>initial = "approx"</code> or <code>"calculated"</code>),
they can be inquired with <code>fmiGetXXX</code> in InitializationMode.</p>
<p class="tableblock"><em>[Example: Assume an FMU is defined in the following way:</em></p>
<p class="tableblock">\(\color{blue}{(\mathbf{y}_{c+d}, \dot{\mathbf{x}}_c) := \mathbf{f}_{init}(\mathbf{x}_c, \mathbf{u}_{c+d}, t_0, \mathbf{p})}\)<br></p>
<p class="tableblock">\(\color{blue}{(\mathbf{y}_{c+d}, \dot{\mathbf{x}}_c) := \mathbf{f}_{sim}(\mathbf{x}_c, \mathbf{u}_{c+d}, t_i, \mathbf{p})}\)<br></p>
<p class="tableblock"><em>Therefore, the initial state \(\color{blue}{\mathbf{x}_c(t_0)}\)
has <code>initial = "exact"</code> and the initial state derivative
\(\color{blue}{\dot{\mathbf{x}}_c(t_0)}\)
has <code>initial = "calculated"</code>.
The environment can still initialize this FMU in steady-state,
by using
\(\color{blue}{\mathbf{x}_c(t_0)}\)
as iteration variables and adding the equations \(\color{blue}{\mathbf{x}_c(t_0) = \mathbf{0}}\)
in the environment.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Unknown</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An element of one of the lists above defining the unknown with a reference to the corresponding <code>ScalarVariable</code> element.
It is assumed that at a super-dense time instant \(\color{blue}{t = (t_R, t_I)}\) (ModelExchange) and at a Communication Point (CoSimulation) the following relationship holds:</p>
<p class="tableblock">\(\color{blue}{v_{unknown} = h(\mathbf{v}_{known}, \mathbf{v}_{freeze})}\)</p>
<p class="tableblock">where</p>
<p class="tableblock">- \(\color{blue}{v_{unknown}}\) is the unknown variable defined with this element <em>[for example, an output or a state derivative].</em></p>
<p class="tableblock">- \(\color{blue}{\mathbf{v}_{known}}\) is the vector of input arguments of function <em>h</em> that changes its value in the actual Mode <em>[for example, continuous-time inputs in Continuous-Time Mode]</em>.</p>
<p class="tableblock">- \(\color{blue}{\mathbf{v}_{freeze}}\) is the set of input arguments of function <em>h</em> that do not change their values in this Mode,
but change their values in other Modes <em>[for example, fixed parameters in Continuous-Time Mode]</em>.</p>
<p class="tableblock">Attribute <code>dependencies</code> of <code>Unknown</code> defines the dependency of \(\color{blue}{v_{unknown}}\) with respect to \(\color{blue}{\mathbf{v}_{known}}\).<br>
<em>[If, for example, a continuous-time output</em> \(\color{blue}{y_{2}}\) <em>is a function of the continuous-time inputs</em> \(\color{blue}{u_{3}}\) <em>and</em> \(\color{blue}{u_{5}}\), <em>and these inputs have changed, then</em> <code>fmi2SetXXX</code> <em>on</em> \(\color{blue}{u_{3}}\) <em>and</em> \(\color{blue}{u_{5}}\) <em>must always be called before calling</em> <code>fmi2GetXXX</code> <em>on</em> \(\color{blue}{y_{2}}\) <em>.]</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Element <code>Unknown</code> in <code>Outputs</code>,
<code>Derivatives</code> and <code>InitialUnknowns</code> has the following attributes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Attribute-Name</em></th>
<th class="tableblock halign-left valign-top"><em>Description</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>index</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>ScalarVariable</code> index of the <code>Unknown</code> \(\color{blue}{v_{\text{unknown}}}\).
<em>[For example, if there are 10 <code>ScalarVariable</code>s and index = 3,
then the third <code>ScalarVariable</code> is the unknown defined with this element.]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dependencies</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional attribute defining the dependencies of the unknown \(\color{blue}{v_{\text{unknown}}}\) (directly or indirectly via auxiliary variables) with respect to \(\color{blue}{\mathbf{v}_{\text{known}}}\).
If not present, it must be assumed that the <code>Unknown</code> depends on all <code>Knowns</code>.
If present as empty list, the <code>Unknown</code> depends on none of the <code>Knowns</code>.
Otherwise the <code>Unknown</code> depends on the <code>Knowns</code> defined by the given <code>ScalarVariable</code> indices.
The indices are ordered according to magnitude, starting with the smallest index.<br>
<code>Knowns</code> \(\color{blue}{\mathbf{v}_{\text{known}}}\) in <em>Event</em> and <em>Continuous-Time Mode</em> (ModelExchange) and at <em>Communication Points</em> (CoSimulation) for elements <code>Outputs</code>, <code>Derivatives</code>:</p>
<p class="tableblock">- inputs (variables with <code>causality = "input"</code>)</p>
<p class="tableblock">- continuous-time states</p>
<p class="tableblock">- independent variable (usually time; <code>causality = "independent"</code>).
If an independent variable is not explicitly defined under <code>ScalarVariable</code>s,
it is assumed that the <code>Unknown</code> depends explicitly on the independent variable.</p>
<p class="tableblock"><code>Knowns</code> \(\color{blue}{\mathbf{v}_{\text{known}}}\) in <em>Initialization Mode</em> (for elements <code>InitialUnknowns</code>):</p>
<p class="tableblock">- inputs (variables with <code>causality = "input"</code>)</p>
<p class="tableblock">- variables with <code>initial = "exact"</code><br>
<em>[for example, independent parameters or initial states.]</em></p>
<p class="tableblock">- independent variable (usually time; <code>causality = "independent"</code>).
If an independent variable is not explicitly defined under <code>ScalarVariable</code>s,
it is assumed that the <code>Unknown</code> depends explicitly on the independent variable.</p>
<p class="tableblock">For Co-Simulation, <code>dependencies</code> does not list the dependency on continuous-time,
if the capability flag <code>providesDirectionalDerivative</code> has a value of <code>"false"</code>.
In other words, the respective partial derivatives cannot be computed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dependenciesKind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If not present,
it must be assumed that the <code>Unknown</code> \(\color{blue}{v_{\text{unknown}}}\) depends on the <code>Knowns</code> \(\color{blue}{\mathbf{v}_{\text{known}}}\) without a particular structure.
Otherwise, the corresponding Known \(\color{blue}{v_{known,i}}\) enters the equation as:</p>
<p class="tableblock">If <code>dependenciesKind</code> is present, <code>dependencies</code> must be present and
must have the same number of list elements.</p>
<p class="tableblock"><code>= "dependent"</code>: no particular structure, \(\color{blue}{{h(..,\ v}_{known,i}}\),..)</p>
<p class="tableblock">Only for Real unknowns \(\color{blue}{v_{\text{unknown}}}\):</p>
<p class="tableblock"><code>= "constant"</code>: constant factor,
\(\color{blue}{c \cdot v_{known,i}}\) where \(\color{blue}{c}\) is an expression that is evaluated before <code>fmi2EnterInitializationMode</code> is called.</p>
<p class="tableblock">Only for Real unknowns \(\color{blue}{v_{\text{unknown}}}\) in Event and Continuous-Time Mode (ModelExchange) and at <em>Communication Points</em> (CoSimulation),
and not for <code>InitialUnknowns</code> for Initialization Mode:</p>
<p class="tableblock"><code>= "fixed"</code>: fixed factor,
\(\color{blue}{p \cdot v_{known,i}}\) where \(\color{blue}{p}\) is an expression that is evaluated before <code>fmi2ExitInitializationMode</code> is called.</p>
<p class="tableblock"><code>= "tunable"</code>: tunable factor,
\(\color{blue}{p \cdot v_{known,i}}\) where \(\color{blue}{p}\) is an expression that is evaluated before <code>fmi2ExitInitializationMode</code> is called and in Event Mode due to an external event (ModelExchange) or at a Communication Point (CoSimulation)</p>
<p class="tableblock"><code>= "discrete"</code>: discrete factor,
\(\color{blue}{d \cdot v_{known,i}}\) where \(\color{blue}{d}\) is an expression that is evaluated before <code>fmi2ExitInitializationMode</code> is called and in Event Mode due to an external or internal event or at a Communication Point (CoSimulation).</p>
<p class="tableblock">If <code>dependenciesKind</code> is present,
<code>dependencies</code> must be present and must have the same number of list elements.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>[Example 1:</em></p>
</div>
<div class="paragraph">
<p><em>An FMU is defined by the following equations:</em></p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{align*}

\frac{d}{\text{dt}}\begin{bmatrix}
x_{1} \\
x_{2} \\
x_{3} \\
\end{bmatrix}

&amp;=

\begin{bmatrix}
f_{1}\left( x_{2} \right) \\
f_{2}\left( x_{1} \right) + 3 \cdot p^{2} \cdot x_{2} + 2 \cdot u_{1} + 3 \cdot u_{3} \\
f_{3}\left( x_{1},x_{3},u_{1},u_{2},u_{3} \right) \\
\end{bmatrix}

\\

y &amp;= g_1(x_2, x_3)

\end{align*},\]
</div>
</div>
<div class="paragraph">
<p><em>where</em> \(\color{blue}{u_{1}}\) <em>is a continuous-time input (<code>variability="continuous"</code>),</em> \(\color{blue}{u_{2}}\) <em>is any type of input,</em> \(\color{blue}{u_{3}}\) <em>is a Real discrete-time input (<code>variability="discrete"</code>),
and</em> \(\color{blue}{p}\) <em>is a fixed parameter (<code>variability="fixed"</code>).
The initialization is defined by:</em></p>
</div>
<div class="stemblock">
<div class="content">
\[x_1 = 1.1, \frac{dx_2}{dt} = 0, y = 3.3,\]
</div>
</div>
<div class="paragraph">
<p><em>and therefore, the initialization equations are:</em></p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{align*}
x_{2} &amp;= \frac{1}{3 \cdot p^{2}} \cdot ( f_{2}\left( x_{1} \right) + 2 \cdot u_{1} + 3 \cdot u_{3} )
\\
x_{3} &amp;= g_{1}^{- 1}( x_{2}, y)
\end{align*}\]
</div>
</div>
<div class="paragraph">
<p><em>This equation system can be defined as:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;ModelVariables&gt;
   &lt;ScalarVariable name="p"       ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="1" --&gt;
   &lt;ScalarVariable name="u1"      ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="2" --&gt;
   &lt;ScalarVariable name="u2"      ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="3" --&gt;
   &lt;ScalarVariable name="u3"      ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="4" --&gt;
   &lt;ScalarVariable name="x1"      ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="5" --&gt;
   &lt;ScalarVariable name="x2"      ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="6" --&gt;
   &lt;ScalarVariable name="x3"      ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="7" --&gt;
   &lt;ScalarVariable name="der(x1)" ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="8" --&gt;
   &lt;ScalarVariable name="der(x2)" ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="9" --&gt;
   &lt;ScalarVariable name="der(x3)" ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="10" --&gt;
   &lt;ScalarVariable name="y"       ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="11" --&gt;
&lt;/ModelVariables&gt;

&lt;ModelStructure&gt;
   &lt;Outputs&gt;
     &lt;Unknown index="11" dependencies="6 7" /&gt;
   &lt;/Outputs&gt;
   &lt;Derivatives&gt;
     &lt;Unknown index="8"  dependencies="6" /&gt;
     &lt;Unknown index="9"  dependencies="2 4 5 6"
                         dependenciesKind="constant constant dependent fixed"/&gt;
     &lt;Unknown index="10" dependencies="2 3 4 5 6" /&gt;
   &lt;/Derivatives&gt;

   &lt;InitialUnknowns&gt;
     &lt;Unknown index="6" dependencies="2 4 5" /&gt;
     &lt;Unknown index="7" dependencies="2 4 5 11" /&gt;
     &lt;Unknown index="8" ... /&gt;
     &lt;Unknown index="10" ... /&gt;
   &lt;/InitialUnknowns&gt;
&lt;/ModelStructure&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example 2:</em></p>
</div>
<div class="stemblock">
<div class="content">
\[y = \left\{ \begin{matrix}
2 \cdot u \ \mathrm{if} \ u &gt; 0 \\
3 \cdot u \ \mathrm{else} \\
\end{matrix}\right.\]
</div>
</div>
<div class="paragraph">
<p><em>where</em> \(\color{blue}{u}\) <em>is a continuous-time input with index="1" and</em> \(\color{blue}{y}\) <em>is a continuous-time output with index="2".
The definition of the model structure is then:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;ModelStructure&gt;
  &lt;Outputs&gt;
    &lt;Unknown index="2" dependencies="1" dependenciesKind="discrete"/&gt;
  &lt;/Outputs&gt;
&lt;/ModelStructure&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>[Note that</em> \(\color{blue}{y = d \cdot u}\) <em>where</em> \(\color{blue}{d}\) <em>changes only during Event Mode (</em>\(\color{blue}{d = 2 \cdot u}\) <em>or</em> \(\color{blue}{3 \cdot u\ }\) <em>depending on relation</em> \(\color{blue}{u &gt; 0}\) <em>that changes only at Event Mode).
Therefore dependenciesKind="discrete".]</em></p>
</div>
<div class="paragraph">
<p><em>Example 3:</em></p>
</div>
<div class="stemblock">
<div class="content">
\[y = \left\{ \begin{matrix}
2\ \ \mathrm{if}\ \ u &gt; 0 \\
3\ \ \mathrm{else} \\
\end{matrix}\right.\]
</div>
</div>
<div class="paragraph">
<p><em>where</em> \(\color{blue}{u}\) <em>is a continuous-time input with index="1" and</em> \(\color{blue}{y}\) <em>is a continuous-time output with index="2".
The definition of the model structure is then:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;ModelStructure&gt;
  &lt;Outputs&gt;
    &lt;Unknown index="2" dependencies="1" dependenciesKind="dependent"/&gt;
  &lt;/Outputs&gt;
&lt;/ModelStructure&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>[Note that</em> \(\color{blue}{y = c}\) <em>where</em> \(\color{blue}{c}\) <em>changes only during Event Mode (</em>\(\color{blue}{c = 2}\) <em>or</em> \(\color{blue}{3\ }\)<em>depending on relation</em> \(\color{blue}{u &gt; 0}\) <em>that changes only at Event Mode).
Therefore <code>dependenciesKind="dependent"</code> because it is not a linear relationship on</em> \(\color{blue}{u}\).]</p>
</div>
<div class="paragraph">
<p><em>Example 4:</em></p>
</div>
<div class="stemblock">
<div class="content">
\[\frac{dx}{dt} = u, y = x\]
</div>
</div>
<div class="paragraph">
<p><em>where</em> \(\color{blue}{u}\) <em>is a continuous-time input with index="1" and</em> \(\color{blue}{y}\) <em>is a continuous-time output with index="2",</em> \(\color{blue}{x}\) <em>is a continuous-time state with index="3"  and</em> \(\color{blue}{\frac{dx}{dt}}\) <em>is a continuous-time derivative with index="4".</em>
The definition of the model structure is then:_</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;ModelVariables&gt;
   &lt;ScalarVariable name="u"     , ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="1" --&gt;
   &lt;ScalarVariable name="y"     , ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="2" --&gt;
   &lt;ScalarVariable name="x"     , ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="3" --&gt;
   &lt;ScalarVariable name="der(x)", ...&gt; … &lt;/ScalarVariable&gt;  &lt;!--index="4" --&gt;
&lt;/ModelVariables&gt;

&lt;ModelStructure&gt;
   &lt;Outputs&gt;
     &lt;Unknown index="2" dependencies="3"  dependenciesKind="constant"/&gt;
   &lt;/Outputs&gt;
   &lt;Derivatives&gt;
     &lt;Unknown index="4"  dependencies="1"  dependenciesKind="constant"/&gt;
   &lt;/Derivatives&gt;

   &lt;InitialUnknowns&gt;
     &lt;Unknown index="2" dependencies="3" /&gt;
     &lt;Unknown index="4" dependencies="1" /&gt;
   &lt;/InitialUnknowns&gt;
&lt;/ModelStructure&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Defining FMU features with the</em> <code>dependencies</code> <em>list:</em></p>
</div>
<div class="paragraph">
<p><em>[Note that via the <code>dependencies</code> list the supported features of the FMU can be defined.
Examples:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>If a state derivative <code>der_x</code> is a function of a parameter p (so of a start value of a variable with <code>causality = "parameter"</code> and <code>variability = "fixed"</code>),
and the FMU does not support an iteration over <code>p</code> during <code>InitializationMode</code>
(for example, to iterate over p such that the state derivative <code>der_x</code> is zero),
then the dependencies list of <code>der_x</code> should not include <code>p</code>.
If an FMU is imported in an environment and such an iteration is set up,
then the tool can figure out that the resulting algebraic system of equations is structurally singular and therefore can reject such a definition.</em></p>
</li>
<li>
<p><em>For standard Co-Simulation FMUs, it is common that no algebraic loops over the input/output variables nor over start-values is supported.
In such a case,
all <code>dependencies</code> lists for output variables under the <code>InitialUnknowns</code> element should be defined as empty lists defining that the setting of inputs and/or of start values does not influence the outputs.
As a result,
it is not possible to formulate algebraic loops of connected FMUs during InitializationMode.]</em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_variable_naming_conventions_variablenamingconvention">Variable Naming Conventions (variableNamingConvention)</h4>
<div class="paragraph">
<p>With attribute <code>variableNamingConvention</code> of element <code>fmiModelDescription</code>,
the convention is defined how the <code>ScalarVariable.name</code>s have been constructed.
If this information is known,
the environment may be able to represent the names in a better
way (for example, as a tree and not as a linear list).</p>
</div>
<div class="paragraph">
<p>In the following definitions,
the <a href="http://en.wikipedia.org/wiki/Extended_BNF">EBNF</a> is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=   production rule
[ ] optional
{ } repeat zero or more times
|   or</pre>
</div>
</div>
<div class="paragraph">
<p>The names must be unique, non-empty strings.<br>
<em>[It is recommended that the names are visually clearly different from each other; but it is not required.]</em></p>
</div>
<div class="paragraph">
<p>The following conventions for scalar names are defined:</p>
</div>
<div class="paragraph">
<p><strong><code>variableNamingConvention = "flat"</code></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>name = Unicode-char { Unicode-char } // identical to xs:normalizedString
Unicode-char = any Unicode character without carriage return (#xD),
line feed (#xA) nor tab (#x9)</pre>
</div>
</div>
<div class="paragraph">
<p><strong><code>variableNamingConvention = "structured"</code></strong></p>
</div>
<div class="paragraph">
<p>Structured names are hierarchical using "." as a separator between hierarchies.
A name consists of "_",
letters and digits or may consist of any characters enclosed in single apostrophes.
A name may identify an array element on every hierarchical level using "[&#8230;&#8203;]" to identify the respective array index.
A derivative of a variable is defined with <code>der(name)</code> for the first time derivative and <code>der(name,N)</code> for the N-th derivative.
Examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vehicle.engine.speed
resistor12.u
v_min
robot.axis.'motor #234'
der(pipe[3,4].T[14],2) // second time derivative of pipe[3,4].T[14]</pre>
</div>
</div>
<div class="paragraph">
<p>The precise syntax is <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>name            = identifier | "der(" identifier ["," unsignedInteger ] ")"
identifier      = B-name [ arrayIndices ] {"." B-name [ arrayIndices ] }
B-name          = nondigit { digit | nondigit } | Q-name
nondigit        = "pass:[_]" | letters "a" to "z" | letters "A" to "Z"
digit           = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"
Q-name          = "’" ( Q-char | escape ) { Q-char | escape } "’"
Q-char          = nondigit | digit | "!" | "#" | "$" | "%" | "&amp;" | "(" | ")" |
                                     "*" | "+" | "," | "-" | "." | "/" | ":" |
                                     ";" | "&lt;" | "&gt;" | "=" | "?" | "@" | "[" |
                                     "]" | "^" | "{" | "}" | "|" | "~" | " "
escape          = "\’" | "\"" | "\?" | "\\" | "\a" | "\b" |
                  "\f" | "\n" | "\r" | "\t" | "\v"
arrayIndices    = "[" unsignedInteger {"," unsignedInteger} "]"
unsignedInteger = digit { digit }</pre>
</div>
</div>
<div class="paragraph">
<p><span class="line-through">The tree of names is mapped to an ordered list of <code>ScalarVariable.name</code>s in <a href="http://en.wikipedia.org/wiki/Depth-first_search">depth-first</a> order.</span></p>
</div>
<div class="paragraph">
<p><em>[Clarification for FMI 2.0.1: this constraint has been removed.]</em></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vehicle
  transmission
    ratio
    outputSpeed
  engine
    inputSpeed
    temperature</pre>
</div>
</div>
<div class="paragraph">
<p>is mapped to the following list of <code>ScalarVariable.name</code>s:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vehicle.transmission.ratio
vehicle.transmission.outputSpeed
vehicle.engine.inputSpeed
vehicle.engine.temperature</pre>
</div>
</div>
<div class="paragraph">
<p>All array elements are given in a consecutive sequence of <code>ScalarVariable</code>s.
Elements of multi-dimensional arrays are ordered
according to "row major" order that is elements of the last index are
given in sequence.</p>
</div>
<div class="paragraph">
<p><em>[For example, the vector "centerOfMass" in body "arm1" is mapped to the following <code>ScalarVariable</code>s:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre>robot.arm1.centerOfMass[1]
robot.arm1.centerOfMass[2]
robot.arm1.centerOfMass[3]</pre>
</div>
</div>
<div class="paragraph">
<p><em>[For example, a controller might receive 3 rpm sensors mapped to the following variables:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre>transmission.rpms[0]
transmission.rpms[1]
transmission.rpms[2]</pre>
</div>
</div>
<div class="paragraph">
<p><em>For example,
a table T[4,3,2] (first dimension 4 entries,
second dimension 3 entries,
third dimension 2 entries) is mapped to the following <code>ScalarVariable</code>s:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre>T[1,1,1]
T[1,1,2]
T[1,2,1]
T[1,2,2]
T[1,3,1]
T[1,3,2]
T[2,1,1]
T[2,1,2]
T[2,3,1]
…</pre>
</div>
</div>
<div class="paragraph">
<p><em>]</em></p>
</div>
<div class="paragraph">
<p>It might be that not all elements of an array are present.
If they are present, they are given in consecutive order in the XML file.</p>
</div>
<div class="paragraph">
<p><em>[Clarification for FMI 2.0.2: The <code>variableNamingConvention</code> <code>structured</code> does not define if array indices are 0- or 1-based.]</em></p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Note that the screenshots of this section have been generated from the schema files with the tool "Altova XMLSpy" (www.altova.com). With the enterprise edition of XMLSpy it is possible to automatically generate C++, C# and Java code that reads an XML file of fmiModelDescription.xsd. An efficient open source XML parser is SAX (<a href="http://sax.sourceforge.net/" class="bare">http://sax.sourceforge.net/</a>, <a href="http://en.wikipedia.org/wiki/Simple_API_for_XML" class="bare">http://en.wikipedia.org/wiki/Simple_API_for_XML</a>). All data from the XML file is only defined via "attributes" and not via "elements". Therefore, only an "attribute" handler needs to be defined for a SAX parser.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Note, elements <code>&lt;ModelVariables&gt;</code> and <code>&lt;ModelStructure&gt;</code> are mandatory, whereas <code>&lt;UnitDefinitions&gt;</code>, <code>&lt;TypeDefinitions&gt;</code>, <code>&lt;LogCategories&gt;</code>, <code>&lt;DefaultExperiment&gt;</code>, <code>&lt;VendorAnnotation&gt;</code> are optional. If an optional element is present and defines a list (such as <code>&lt;UnitDefinitions&gt;</code>), the list must have at least one element (such as <code>&lt;Unit&gt;</code>).
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. If no units are defined, element <code>&lt;UnitDefinitions&gt;</code> must not be present. If 1 or more units are defined, this element must be present.
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. This definition is identical to the syntax of an identifier in Modelica version 3.2.
</div>
</div>
</body>
</html>